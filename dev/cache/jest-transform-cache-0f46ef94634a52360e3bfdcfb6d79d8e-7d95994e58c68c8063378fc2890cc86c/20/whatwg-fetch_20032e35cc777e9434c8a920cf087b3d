4f9a7aa09bb4a3fe9261cf3c5e93191e
(function (self) {
  'use strict';

  if (self.fetch) {
    return;
  }

  var support = {
    searchParams: 'URLSearchParams' in self,
    iterable: 'Symbol' in self && 'iterator' in Symbol,
    blob: 'FileReader' in self && 'Blob' in self && function () {
      try {
        new Blob();
        return true;
      } catch (e) {
        return false;
      }
    }(),
    formData: 'FormData' in self,
    arrayBuffer: 'ArrayBuffer' in self
  };

  if (support.arrayBuffer) {
    var viewClasses = ['[object Int8Array]', '[object Uint8Array]', '[object Uint8ClampedArray]', '[object Int16Array]', '[object Uint16Array]', '[object Int32Array]', '[object Uint32Array]', '[object Float32Array]', '[object Float64Array]'];

    var isDataView = function isDataView(obj) {
      return obj && DataView.prototype.isPrototypeOf(obj);
    };

    var isArrayBufferView = ArrayBuffer.isView || function (obj) {
      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1;
    };
  }

  function normalizeName(name) {
    if (typeof name !== 'string') {
      name = String(name);
    }

    if (/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)) {
      throw new TypeError('Invalid character in header field name');
    }

    return name.toLowerCase();
  }

  function normalizeValue(value) {
    if (typeof value !== 'string') {
      value = String(value);
    }

    return value;
  }

  function iteratorFor(items) {
    var iterator = {
      next: function next() {
        var value = items.shift();
        return {
          done: value === undefined,
          value: value
        };
      }
    };

    if (support.iterable) {
      iterator[typeof Symbol === "function" ? Symbol.iterator : "@@iterator"] = function () {
        return iterator;
      };
    }

    return iterator;
  }

  function Headers(headers) {
    this.map = {};

    if (headers instanceof Headers) {
      headers.forEach(function (value, name) {
        this.append(name, value);
      }, this);
    } else if (Array.isArray(headers)) {
      headers.forEach(function (header) {
        this.append(header[0], header[1]);
      }, this);
    } else if (headers) {
      Object.getOwnPropertyNames(headers).forEach(function (name) {
        this.append(name, headers[name]);
      }, this);
    }
  }

  Headers.prototype.append = function (name, value) {
    name = normalizeName(name);
    value = normalizeValue(value);
    var oldValue = this.map[name];
    this.map[name] = oldValue ? oldValue + ',' + value : value;
  };

  Headers.prototype['delete'] = function (name) {
    delete this.map[normalizeName(name)];
  };

  Headers.prototype.get = function (name) {
    name = normalizeName(name);
    return this.has(name) ? this.map[name] : null;
  };

  Headers.prototype.has = function (name) {
    return this.map.hasOwnProperty(normalizeName(name));
  };

  Headers.prototype.set = function (name, value) {
    this.map[normalizeName(name)] = normalizeValue(value);
  };

  Headers.prototype.forEach = function (callback, thisArg) {
    for (var name in this.map) {
      if (this.map.hasOwnProperty(name)) {
        callback.call(thisArg, this.map[name], name, this);
      }
    }
  };

  Headers.prototype.keys = function () {
    var items = [];
    this.forEach(function (value, name) {
      items.push(name);
    });
    return iteratorFor(items);
  };

  Headers.prototype.values = function () {
    var items = [];
    this.forEach(function (value) {
      items.push(value);
    });
    return iteratorFor(items);
  };

  Headers.prototype.entries = function () {
    var items = [];
    this.forEach(function (value, name) {
      items.push([name, value]);
    });
    return iteratorFor(items);
  };

  if (support.iterable) {
    Headers.prototype[typeof Symbol === "function" ? Symbol.iterator : "@@iterator"] = Headers.prototype.entries;
  }

  function consumed(body) {
    if (body.bodyUsed) {
      return Promise.reject(new TypeError('Already read'));
    }

    body.bodyUsed = true;
  }

  function fileReaderReady(reader) {
    return new Promise(function (resolve, reject) {
      reader.onload = function () {
        resolve(reader.result);
      };

      reader.onerror = function () {
        reject(reader.error);
      };
    });
  }

  function readBlobAsArrayBuffer(blob) {
    var reader = new FileReader();
    var promise = fileReaderReady(reader);
    reader.readAsArrayBuffer(blob);
    return promise;
  }

  function readBlobAsText(blob) {
    var reader = new FileReader();
    var promise = fileReaderReady(reader);
    reader.readAsText(blob);
    return promise;
  }

  function readArrayBufferAsText(buf) {
    var view = new Uint8Array(buf);
    var chars = new Array(view.length);

    for (var i = 0; i < view.length; i++) {
      chars[i] = String.fromCharCode(view[i]);
    }

    return chars.join('');
  }

  function bufferClone(buf) {
    if (buf.slice) {
      return buf.slice(0);
    } else {
      var view = new Uint8Array(buf.byteLength);
      view.set(new Uint8Array(buf));
      return view.buffer;
    }
  }

  function Body() {
    this.bodyUsed = false;

    this._initBody = function (body) {
      this._bodyInit = body;

      if (!body) {
        this._bodyText = '';
      } else if (typeof body === 'string') {
        this._bodyText = body;
      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
        this._bodyBlob = body;
      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
        this._bodyFormData = body;
      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
        this._bodyText = body.toString();
      } else if (support.arrayBuffer && support.blob && isDataView(body)) {
        this._bodyArrayBuffer = bufferClone(body.buffer);
        this._bodyInit = new Blob([this._bodyArrayBuffer]);
      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
        this._bodyArrayBuffer = bufferClone(body);
      } else {
        throw new Error('unsupported BodyInit type');
      }

      if (!this.headers.get('content-type')) {
        if (typeof body === 'string') {
          this.headers.set('content-type', 'text/plain;charset=UTF-8');
        } else if (this._bodyBlob && this._bodyBlob.type) {
          this.headers.set('content-type', this._bodyBlob.type);
        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');
        }
      }
    };

    if (support.blob) {
      this.blob = function () {
        var rejected = consumed(this);

        if (rejected) {
          return rejected;
        }

        if (this._bodyBlob) {
          return Promise.resolve(this._bodyBlob);
        } else if (this._bodyArrayBuffer) {
          return Promise.resolve(new Blob([this._bodyArrayBuffer]));
        } else if (this._bodyFormData) {
          throw new Error('could not read FormData body as blob');
        } else {
          return Promise.resolve(new Blob([this._bodyText]));
        }
      };

      this.arrayBuffer = function () {
        if (this._bodyArrayBuffer) {
          return consumed(this) || Promise.resolve(this._bodyArrayBuffer);
        } else {
          return this.blob().then(readBlobAsArrayBuffer);
        }
      };
    }

    this.text = function () {
      var rejected = consumed(this);

      if (rejected) {
        return rejected;
      }

      if (this._bodyBlob) {
        return readBlobAsText(this._bodyBlob);
      } else if (this._bodyArrayBuffer) {
        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));
      } else if (this._bodyFormData) {
        throw new Error('could not read FormData body as text');
      } else {
        return Promise.resolve(this._bodyText);
      }
    };

    if (support.formData) {
      this.formData = function () {
        return this.text().then(decode);
      };
    }

    this.json = function () {
      return this.text().then(JSON.parse);
    };

    return this;
  }

  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];

  function normalizeMethod(method) {
    var upcased = method.toUpperCase();
    return methods.indexOf(upcased) > -1 ? upcased : method;
  }

  function Request(input, options) {
    options = options || {};
    var body = options.body;

    if (input instanceof Request) {
      if (input.bodyUsed) {
        throw new TypeError('Already read');
      }

      this.url = input.url;
      this.credentials = input.credentials;

      if (!options.headers) {
        this.headers = new Headers(input.headers);
      }

      this.method = input.method;
      this.mode = input.mode;

      if (!body && input._bodyInit != null) {
        body = input._bodyInit;
        input.bodyUsed = true;
      }
    } else {
      this.url = String(input);
    }

    this.credentials = options.credentials || this.credentials || 'omit';

    if (options.headers || !this.headers) {
      this.headers = new Headers(options.headers);
    }

    this.method = normalizeMethod(options.method || this.method || 'GET');
    this.mode = options.mode || this.mode || null;
    this.referrer = null;

    if ((this.method === 'GET' || this.method === 'HEAD') && body) {
      throw new TypeError('Body not allowed for GET or HEAD requests');
    }

    this._initBody(body);
  }

  Request.prototype.clone = function () {
    return new Request(this, {
      body: this._bodyInit
    });
  };

  function decode(body) {
    var form = new FormData();
    body.trim().split('&').forEach(function (bytes) {
      if (bytes) {
        var split = bytes.split('=');
        var name = split.shift().replace(/\+/g, ' ');
        var value = split.join('=').replace(/\+/g, ' ');
        form.append(decodeURIComponent(name), decodeURIComponent(value));
      }
    });
    return form;
  }

  function parseHeaders(rawHeaders) {
    var headers = new Headers();
    var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, ' ');
    preProcessedHeaders.split(/\r?\n/).forEach(function (line) {
      var parts = line.split(':');
      var key = parts.shift().trim();

      if (key) {
        var value = parts.join(':').trim();
        headers.append(key, value);
      }
    });
    return headers;
  }

  Body.call(Request.prototype);

  function Response(bodyInit, options) {
    if (!options) {
      options = {};
    }

    this.type = 'default';
    this.status = options.status === undefined ? 200 : options.status;
    this.ok = this.status >= 200 && this.status < 300;
    this.statusText = 'statusText' in options ? options.statusText : 'OK';
    this.headers = new Headers(options.headers);
    this.url = options.url || '';

    this._initBody(bodyInit);
  }

  Body.call(Response.prototype);

  Response.prototype.clone = function () {
    return new Response(this._bodyInit, {
      status: this.status,
      statusText: this.statusText,
      headers: new Headers(this.headers),
      url: this.url
    });
  };

  Response.error = function () {
    var response = new Response(null, {
      status: 0,
      statusText: ''
    });
    response.type = 'error';
    return response;
  };

  var redirectStatuses = [301, 302, 303, 307, 308];

  Response.redirect = function (url, status) {
    if (redirectStatuses.indexOf(status) === -1) {
      throw new RangeError('Invalid status code');
    }

    return new Response(null, {
      status: status,
      headers: {
        location: url
      }
    });
  };

  self.Headers = Headers;
  self.Request = Request;
  self.Response = Response;

  self.fetch = function (input, init) {
    return new Promise(function (resolve, reject) {
      var request = new Request(input, init);
      var xhr = new XMLHttpRequest();

      xhr.onload = function () {
        var options = {
          status: xhr.status,
          statusText: xhr.statusText,
          headers: parseHeaders(xhr.getAllResponseHeaders() || '')
        };
        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');
        var body = 'response' in xhr ? xhr.response : xhr.responseText;
        resolve(new Response(body, options));
      };

      xhr.onerror = function () {
        reject(new TypeError('Network request failed'));
      };

      xhr.ontimeout = function () {
        reject(new TypeError('Network request failed'));
      };

      xhr.open(request.method, request.url, true);

      if (request.credentials === 'include') {
        xhr.withCredentials = true;
      } else if (request.credentials === 'omit') {
        xhr.withCredentials = false;
      }

      request.headers.forEach(function (value, name) {
        xhr.setRequestHeader(name, value);
      });
      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);
    });
  };

  self.fetch.polyfill = true;
})(typeof self !== 'undefined' ? self : this);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndoYXR3Zy1mZXRjaC5qcyJdLCJuYW1lcyI6WyJzZWxmIiwiZmV0Y2giLCJzdXBwb3J0Iiwic2VhcmNoUGFyYW1zIiwiaXRlcmFibGUiLCJTeW1ib2wiLCJibG9iIiwiQmxvYiIsImUiLCJmb3JtRGF0YSIsImFycmF5QnVmZmVyIiwidmlld0NsYXNzZXMiLCJpc0RhdGFWaWV3Iiwib2JqIiwiRGF0YVZpZXciLCJwcm90b3R5cGUiLCJpc1Byb3RvdHlwZU9mIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImluZGV4T2YiLCJPYmplY3QiLCJ0b1N0cmluZyIsImNhbGwiLCJub3JtYWxpemVOYW1lIiwibmFtZSIsIlN0cmluZyIsInRlc3QiLCJUeXBlRXJyb3IiLCJ0b0xvd2VyQ2FzZSIsIm5vcm1hbGl6ZVZhbHVlIiwidmFsdWUiLCJpdGVyYXRvckZvciIsIml0ZW1zIiwiaXRlcmF0b3IiLCJuZXh0Iiwic2hpZnQiLCJkb25lIiwidW5kZWZpbmVkIiwiSGVhZGVycyIsImhlYWRlcnMiLCJtYXAiLCJmb3JFYWNoIiwiYXBwZW5kIiwiQXJyYXkiLCJpc0FycmF5IiwiaGVhZGVyIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIm9sZFZhbHVlIiwiZ2V0IiwiaGFzIiwiaGFzT3duUHJvcGVydHkiLCJzZXQiLCJjYWxsYmFjayIsInRoaXNBcmciLCJrZXlzIiwicHVzaCIsInZhbHVlcyIsImVudHJpZXMiLCJjb25zdW1lZCIsImJvZHkiLCJib2R5VXNlZCIsIlByb21pc2UiLCJyZWplY3QiLCJmaWxlUmVhZGVyUmVhZHkiLCJyZWFkZXIiLCJyZXNvbHZlIiwib25sb2FkIiwicmVzdWx0Iiwib25lcnJvciIsImVycm9yIiwicmVhZEJsb2JBc0FycmF5QnVmZmVyIiwiRmlsZVJlYWRlciIsInByb21pc2UiLCJyZWFkQXNBcnJheUJ1ZmZlciIsInJlYWRCbG9iQXNUZXh0IiwicmVhZEFzVGV4dCIsInJlYWRBcnJheUJ1ZmZlckFzVGV4dCIsImJ1ZiIsInZpZXciLCJVaW50OEFycmF5IiwiY2hhcnMiLCJsZW5ndGgiLCJpIiwiZnJvbUNoYXJDb2RlIiwiam9pbiIsImJ1ZmZlckNsb25lIiwic2xpY2UiLCJieXRlTGVuZ3RoIiwiYnVmZmVyIiwiQm9keSIsIl9pbml0Qm9keSIsIl9ib2R5SW5pdCIsIl9ib2R5VGV4dCIsIl9ib2R5QmxvYiIsIkZvcm1EYXRhIiwiX2JvZHlGb3JtRGF0YSIsIlVSTFNlYXJjaFBhcmFtcyIsIl9ib2R5QXJyYXlCdWZmZXIiLCJFcnJvciIsInR5cGUiLCJyZWplY3RlZCIsInRoZW4iLCJ0ZXh0IiwiZGVjb2RlIiwianNvbiIsIkpTT04iLCJwYXJzZSIsIm1ldGhvZHMiLCJub3JtYWxpemVNZXRob2QiLCJtZXRob2QiLCJ1cGNhc2VkIiwidG9VcHBlckNhc2UiLCJSZXF1ZXN0IiwiaW5wdXQiLCJvcHRpb25zIiwidXJsIiwiY3JlZGVudGlhbHMiLCJtb2RlIiwicmVmZXJyZXIiLCJjbG9uZSIsImZvcm0iLCJ0cmltIiwic3BsaXQiLCJieXRlcyIsInJlcGxhY2UiLCJkZWNvZGVVUklDb21wb25lbnQiLCJwYXJzZUhlYWRlcnMiLCJyYXdIZWFkZXJzIiwicHJlUHJvY2Vzc2VkSGVhZGVycyIsImxpbmUiLCJwYXJ0cyIsImtleSIsIlJlc3BvbnNlIiwiYm9keUluaXQiLCJzdGF0dXMiLCJvayIsInN0YXR1c1RleHQiLCJyZXNwb25zZSIsInJlZGlyZWN0U3RhdHVzZXMiLCJyZWRpcmVjdCIsIlJhbmdlRXJyb3IiLCJsb2NhdGlvbiIsImluaXQiLCJyZXF1ZXN0IiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZVVSTCIsInJlc3BvbnNlVGV4dCIsIm9udGltZW91dCIsIm9wZW4iLCJ3aXRoQ3JlZGVudGlhbHMiLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsInBvbHlmaWxsIl0sIm1hcHBpbmdzIjoiQUFrQ0EsQ0FBQyxVQUFTQSxJQUFULEVBQWU7QUFDZDs7QUFF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QUFjLHdCQUFkLENBQUQsQ0FBTjtBQUNELE9BRkQ7O0FBSUFxSCxNQUFBQSxHQUFHLENBQUNNLElBQUosQ0FBU1AsT0FBTyxDQUFDbEMsTUFBakIsRUFBeUJrQyxPQUFPLENBQUM1QixHQUFqQyxFQUFzQyxJQUF0Qzs7QUFFQSxVQUFJNEIsT0FBTyxDQUFDM0IsV0FBUixLQUF3QixTQUE1QixFQUF1QztBQUNyQzRCLFFBQUFBLEdBQUcsQ0FBQ08sZUFBSixHQUFzQixJQUF0QjtBQUNELE9BRkQsTUFFTyxJQUFJUixPQUFPLENBQUMzQixXQUFSLEtBQXdCLE1BQTVCLEVBQW9DO0FBQ3pDNEIsUUFBQUEsR0FBRyxDQUFDTyxlQUFKLEdBQXNCLEtBQXRCO0FBQ0Q7O0FBRURSLE1BQUFBLE9BQU8sQ0FBQ3hHLE9BQVIsQ0FBZ0JFLE9BQWhCLENBQXdCLFVBQVNYLEtBQVQsRUFBZ0JOLElBQWhCLEVBQXNCO0FBQzVDd0gsUUFBQUEsR0FBRyxDQUFDUSxnQkFBSixDQUFxQmhJLElBQXJCLEVBQTJCTSxLQUEzQjtBQUNELE9BRkQ7QUFJQWtILE1BQUFBLEdBQUcsQ0FBQ1MsSUFBSixDQUNFLE9BQU9WLE9BQU8sQ0FBQ3BELFNBQWYsS0FBNkIsV0FBN0IsR0FBMkMsSUFBM0MsR0FBa0RvRCxPQUFPLENBQUNwRCxTQUQ1RDtBQUdELEtBekNNLENBQVA7QUEwQ0QsR0EzQ0Q7O0FBNENBNUYsRUFBQUEsSUFBSSxDQUFDQyxLQUFMLENBQVcwSixRQUFYLEdBQXNCLElBQXRCO0FBQ0QsQ0E5ZUQsRUE4ZUcsT0FBTzNKLElBQVAsS0FBZ0IsV0FBaEIsR0FBOEJBLElBQTlCLEdBQXFDLElBOWV4QyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICovXG5cbi8vIEZvcmsgb2YgaHR0cHM6Ly9naXRodWIuY29tL2dpdGh1Yi9mZXRjaC9ibG9iL21hc3Rlci9mZXRjaC5qcyB0aGF0IGRvZXMgbm90XG4vLyB1c2UgcmVwb25zZVR5cGU6ICdibG9iJyBieSBkZWZhdWx0LiBSTiBhbHJlYWR5IGhhcyBzcGVjaWZpYyBuYXRpdmUgaW1wbGVtZW50YXRpb25zXG4vLyBmb3IgZGlmZmVyZW50IHJlc3BvbnNlIHR5cGVzIHNvIHRoZXJlIGlzIG5vIG5lZWQgdG8gYWRkIHRoZSBleHRyYSBibG9iIG92ZXJoZWFkLlxuXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNiBHaXRIdWIsIEluYy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmdcbi8vIGEgY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG9cbi8vIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0b1xuLy8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG4vLyBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxuLy8gRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxuLy8gTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRVxuLy8gTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTlxuLy8gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OXG4vLyBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuKGZ1bmN0aW9uKHNlbGYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmIChzZWxmLmZldGNoKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHN1cHBvcnQgPSB7XG4gICAgc2VhcmNoUGFyYW1zOiAnVVJMU2VhcmNoUGFyYW1zJyBpbiBzZWxmLFxuICAgIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICAgIGJsb2I6XG4gICAgICAnRmlsZVJlYWRlcicgaW4gc2VsZiAmJlxuICAgICAgJ0Jsb2InIGluIHNlbGYgJiZcbiAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBuZXcgQmxvYigpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KSgpLFxuICAgIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gICAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZixcbiAgfTtcblxuICBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlcikge1xuICAgIHZhciB2aWV3Q2xhc3NlcyA9IFtcbiAgICAgICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50MzJBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgRmxvYXQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBdO1xuXG4gICAgdmFyIGlzRGF0YVZpZXcgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgRGF0YVZpZXcucHJvdG90eXBlLmlzUHJvdG90eXBlT2Yob2JqKTtcbiAgICB9O1xuXG4gICAgdmFyIGlzQXJyYXlCdWZmZXJWaWV3ID1cbiAgICAgIEFycmF5QnVmZmVyLmlzVmlldyB8fFxuICAgICAgZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgb2JqICYmIHZpZXdDbGFzc2VzLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpID4gLTFcbiAgICAgICAgKTtcbiAgICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpO1xuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5cXF5fYHx+XS9pLnRlc3QobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJyk7XG4gICAgfVxuICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG4gIGZ1bmN0aW9uIGl0ZXJhdG9yRm9yKGl0ZW1zKSB7XG4gICAgdmFyIGl0ZXJhdG9yID0ge1xuICAgICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1zLnNoaWZ0KCk7XG4gICAgICAgIHJldHVybiB7ZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfTtcbiAgICAgIH0sXG4gICAgfTtcblxuICAgIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpdGVyYXRvcjtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZXJhdG9yO1xuICB9XG5cbiAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5tYXAgPSB7fTtcblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSk7XG4gICAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV07XG4gICAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlICsgJywnICsgdmFsdWUgOiB2YWx1ZTtcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldO1xuICB9O1xuXG4gIEhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKTtcbiAgICByZXR1cm4gdGhpcy5oYXMobmFtZSkgPyB0aGlzLm1hcFtuYW1lXSA6IG51bGw7XG4gIH07XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKTtcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpO1xuICB9O1xuXG4gIEhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5tYXApIHtcbiAgICAgIGlmICh0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMubWFwW25hbWVdLCBuYW1lLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgSGVhZGVycy5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgaXRlbXMucHVzaChuYW1lKTtcbiAgICB9KTtcbiAgICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpO1xuICB9O1xuXG4gIEhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpdGVtcyA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaXRlbXMucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKTtcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcyk7XG4gIH07XG5cbiAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gSGVhZGVycy5wcm90b3R5cGUuZW50cmllcztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcbiAgICBpZiAoYm9keS5ib2R5VXNlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKTtcbiAgICB9XG4gICAgYm9keS5ib2R5VXNlZCA9IHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xuICAgICAgfTtcbiAgICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKTtcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBmdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKTtcbiAgICByZWFkZXIucmVhZEFzVGV4dChibG9iKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRBcnJheUJ1ZmZlckFzVGV4dChidWYpIHtcbiAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zik7XG4gICAgdmFyIGNoYXJzID0gbmV3IEFycmF5KHZpZXcubGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZpZXdbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gY2hhcnMuam9pbignJyk7XG4gIH1cblxuICBmdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgICByZXR1cm4gYnVmLnNsaWNlKDApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zi5ieXRlTGVuZ3RoKTtcbiAgICAgIHZpZXcuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZikpO1xuICAgICAgcmV0dXJuIHZpZXcuYnVmZmVyO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIEJvZHkoKSB7XG4gICAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHk7XG4gICAgICBpZiAoIWJvZHkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSAnJztcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keTtcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUJsb2IgPSBib2R5O1xuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJlxuICAgICAgICBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSlcbiAgICAgICkge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBzdXBwb3J0LmJsb2IgJiYgaXNEYXRhVmlldyhib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5LmJ1ZmZlcik7XG4gICAgICAgIC8vIElFIDEwLTExIGNhbid0IGhhbmRsZSBhIERhdGFWaWV3IGJvZHkuXG4gICAgICAgIHRoaXMuX2JvZHlJbml0ID0gbmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgc3VwcG9ydC5hcnJheUJ1ZmZlciAmJlxuICAgICAgICAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkIEJvZHlJbml0IHR5cGUnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJlxuICAgICAgICAgIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KFxuICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZScsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpO1xuICAgICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0ZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnN1bWVkKHRoaXMpIHx8IFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKTtcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWQ7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWFkQXJyYXlCdWZmZXJBc1RleHQodGhpcy5fYm9keUFycmF5QnVmZmVyKSk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSk7XG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG4gIHZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddO1xuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuICAgIHJldHVybiBtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSA/IHVwY2FzZWQgOiBtZXRob2Q7XG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHk7XG5cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnVybCA9IGlucHV0LnVybDtcbiAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbnB1dC5jcmVkZW50aWFscztcbiAgICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpO1xuICAgICAgfVxuICAgICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2Q7XG4gICAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlO1xuICAgICAgaWYgKCFib2R5ICYmIGlucHV0Ll9ib2R5SW5pdCAhPSBudWxsKSB7XG4gICAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXQ7XG4gICAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51cmwgPSBTdHJpbmcoaW5wdXQpO1xuICAgIH1cblxuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ29taXQnO1xuICAgIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKTtcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpO1xuICAgIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbDtcbiAgICB0aGlzLnJlZmVycmVyID0gbnVsbDtcblxuICAgIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJyk7XG4gICAgfVxuICAgIHRoaXMuX2luaXRCb2R5KGJvZHkpO1xuICB9XG5cbiAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywge2JvZHk6IHRoaXMuX2JvZHlJbml0fSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGJvZHlcbiAgICAgIC50cmltKClcbiAgICAgIC5zcGxpdCgnJicpXG4gICAgICAuZm9yRWFjaChmdW5jdGlvbihieXRlcykge1xuICAgICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpO1xuICAgICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJyk7XG4gICAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgcmV0dXJuIGZvcm07XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUhlYWRlcnMocmF3SGVhZGVycykge1xuICAgIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICAvLyBSZXBsYWNlIGluc3RhbmNlcyBvZiBcXHJcXG4gYW5kIFxcbiBmb2xsb3dlZCBieSBhdCBsZWFzdCBvbmUgc3BhY2Ugb3IgaG9yaXpvbnRhbCB0YWIgd2l0aCBhIHNwYWNlXG4gICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzcyMzAjc2VjdGlvbi0zLjJcbiAgICB2YXIgcHJlUHJvY2Vzc2VkSGVhZGVycyA9IHJhd0hlYWRlcnMucmVwbGFjZSgvXFxyP1xcbltcXHQgXSsvZywgJyAnKTtcbiAgICBwcmVQcm9jZXNzZWRIZWFkZXJzLnNwbGl0KC9cXHI/XFxuLykuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG4gICAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6Jyk7XG4gICAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKCk7XG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLmpvaW4oJzonKS50cmltKCk7XG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBoZWFkZXJzO1xuICB9XG5cbiAgQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKTtcblxuICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0JztcbiAgICB0aGlzLnN0YXR1cyA9IG9wdGlvbnMuc3RhdHVzID09PSB1bmRlZmluZWQgPyAyMDAgOiBvcHRpb25zLnN0YXR1cztcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwO1xuICAgIHRoaXMuc3RhdHVzVGV4dCA9ICdzdGF0dXNUZXh0JyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXNUZXh0IDogJ09LJztcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpO1xuICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJyc7XG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpO1xuICB9XG5cbiAgQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSk7XG5cbiAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgICB1cmw6IHRoaXMudXJsLFxuICAgIH0pO1xuICB9O1xuXG4gIFJlc3BvbnNlLmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSk7XG4gICAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcic7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9O1xuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XTtcblxuICBSZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gICAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSk7XG4gIH07XG5cbiAgc2VsZi5IZWFkZXJzID0gSGVhZGVycztcbiAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdDtcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlO1xuXG4gIHNlbGYuZmV0Y2ggPSBmdW5jdGlvbihpbnB1dCwgaW5pdCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpO1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgIHN0YXR1czogeGhyLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKSxcbiAgICAgICAgfTtcbiAgICAgICAgb3B0aW9ucy51cmwgPVxuICAgICAgICAgICdyZXNwb25zZVVSTCcgaW4geGhyXG4gICAgICAgICAgICA/IHhoci5yZXNwb25zZVVSTFxuICAgICAgICAgICAgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJyk7XG4gICAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKTtcbiAgICAgIH07XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpO1xuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnb21pdCcpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgeGhyLnNlbmQoXG4gICAgICAgIHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQsXG4gICAgICApO1xuICAgIH0pO1xuICB9O1xuICBzZWxmLmZldGNoLnBvbHlmaWxsID0gdHJ1ZTtcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzKTtcbiJdfQ==